@import "./reset";
// font
.t{
  &_red{color:$red;}
  &_skyblue{color:$skyblue;}
}
//ipt custom
label{&>input{margin-right:5px;}}
select,
textarea,
input[type="text"],
input[type="date"],
input[type="file"],
input[type="color"],
input[type="number"],
input[type="password"],
input[type="time"],
input[type="datetime-local"],
input[type="email"],
input[type="tel"]{@include ipt_common;min-height:28px;}
input[type="radio"]{border-radius:50%;}
input[type="checkbox"]{border-radius:2px;vertical-align:middle;accent-color:#1571d3;}
input[type="radio"]:checked{background-position-y:-23px;}
input[type="datetime-local"],
input[type="time"],
input[type="date"]{position:relative;}
input[type="datetime-local"]::-webkit-calendar-picker-indicator,
input[type='time']::-webkit-calendar-picker-indicator,
input[type="date"]::-webkit-inner-spin-button,
input[type="date"]::-webkit-calendar-picker-indicator{position:relative;z-index:2;right:0;width:13px;height:14px;background:transparent;}
textarea{min-height:100px;max-height:300px;resize:none;}
input[list]::-webkit-calendar-picker-indicator,
select{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:2px 20px 2px 10px;background:url(../images/btn_select.png) right 8px center no-repeat, rgba(255,255,255,.9);list-style:none!important;
  option:nth-of-type(1){color:#989898;}
}
input[list]{padding-left:35px;background:url(../images/ico_search.png) 10px 50% no-repeat;}
input[type="checkbox"].invalid,
input[type="radio"].invalid,
input:invalid {position:relative;outline:2px solid #e42b29;background-color: #faebe9; color: #e42b29;}
.btn_switch{display:flex;padding:0;
  input[type="radio"],
  input[type="checkbox"]{-webkit-appearance:none;-moz-appearance:none; -o-appearance:none;appearance:none;outline:none;box-shadow:none;vertical-align:middle;overflow:hidden;}
  label{min-width:40px;border:1px solid #ccc;line-height:30px;padding:0;color:inherit;font-weight:normal;cursor:pointer;text-align:center;background-color:#fff;color:#777;    
    &:hover{font-weight:700;}
  }
  input:checked+label{background-color:$blue;border-color:$blue;color:#fff;font-weight:700;}
}
.btn_gray{@include btn;color:#555;background-color:#f2f2f2;}
.btn_foot_blue{@include btn_foot;}
.btn_foot_gray{@include btn_foot(#a9a9a9);}
.btn_refresh_square{@include btn_square('\e84c');&::before{font-size:16px;}}
.btn_zoomin_square{@include btn_square('\e92c');}
.btn_zoomout_square{@include btn_square('\e92e');}
.btn_more_square{@include btn_square(null);position:relative;
  &::before,
  &::after{@include shape(12px, 2px);position:absolute;left:50%;top:50%;transform:translate(-50%,-50%); border-radius:1px;background-color:#848890;}
  &::after{transform:rotate(90deg);left:25%;top:45%;}
}
.btn_refresh{@include btn(#cbcbcb,'\e84c');color:#939393;padding:0 8px;line-height:20px;
  &::before{font-size:12px;}
}
.btn_pdf{@include btn($addTxt:'\f1c1');}
.btn_print{@include btn($addTxt:'\e833');}
.select_lst{display:flex;flex-wrap:wrap;justify-content:flex-start;gap:9px;
  li{display:flex;align-items:center;gap:3px;position:relative;background-color:#fff;border-radius:11px;overflow:hidden;border:1px solid #9fc9ff;font-size:12px;color:#555;transition:.3s;padding:2px 9px;
    button{width:13px;height:100%;color:#dedede;font-size:0;cursor:pointer;text-align:right;
      &::after{@include fontello('\eb2e');font-size:12px;}
    }
    &:hover{background-color:#dcf1fa;border-color:#61a6fd;
      button{color:#555;}
    }    
  }
  .user_area::before{@include fontello('\eb2b');color:#057ffc;}
}
.flex_wrap{@include flex_between;}
// layout
$maingap:20px;
$navH:280px;
.wrap{display:flex;flex-direction:column;position:relative;min-width:1600px;height:100vh;font-size:13px;color:$black;font-family:"NanumGothic","나눔고딕","Malgun Gothic","맑은고딕","Apple SD Gothic Neo","AppleSDGothic","Nanum Barun Gothic","NanumGothic","AppleGothic","Dotum","Arial",sans-serif;}
.header{position:relative;flex-shrink:0;height:75px;display:flex;justify-content:space-between;align-items:center;padding:0 $maingap;box-shadow:0 0 7px 0 rgba(0, 0, 0, 0.3);border-bottom:1px solid #bec6d6;z-index:100;
  .main_logo{@include shape(301px,31px);
    a{@include f_blind;width:100%;height:100%;background:url(../images/logo.png) 0 0 no-repeat;}
  }
  &::after{position:absolute;top:100%;left:0;@include shape(100%, 0);background-color:#fff;transition:height .5s;margin-top:1px;}
  &:hover{
    &::after{height:$navH;border-bottom:1px solid #bec6d6;}
    .sub{height:$navH;}
  }
}
.nav{height:100%;}
.nav_lst{display:flex;height:100%;align-items:center;
  & > li{width:175px;position:relative;height:100%;z-index:300;
    &:first-child .sub{border-left:1px solid #e4e5e9;}
    & > a{position:relative;top:1px;display:flex;align-items:center;height:100%;font-weight:700;font-size:18px;padding:0 20px;border-bottom:3px solid transparent;
      &.on{color:$blue;border-color:$blue;}
      &:hover{color:$blue;}
    }  
  }
}
.sub{position:absolute;top:74px;display:flex;flex-direction:column;width:100%;height:0; gap:15px;border-right:1px solid #e4e5e9;z-index:200;overflow:hidden;transition:height .5s;
  li:first-child{margin-top:27px;}
  a{color:#666;font-size:14px;font-weight:normal;padding:0 20px;letter-spacing:-.05em;word-break:keep-all;
    &:hover{font-weight:700;}
    &.on{font-weight:700;color:$blue;}
  }
}
.main_container{flex:1;display:flex;}
.footer{flex:0 0 30px;display:flex;align-items:center;justify-content:center;border-top:1px solid $border;}
.util{height:inherit;}
.profile{position:relative;width:150px;height:inherit;text-align:right;padding-right:5px;
  .account{position:relative;top:50%;transform:translateY(-50%);display:inline-flex;align-items:center;font-size:13px;letter-spacing:-.33px;
    img{border-radius:50%;overflow:hidden;object-fit:cover;}
    b{margin-left:10px;font-weight:700;
      &::before{position:absolute;left:0;top:0; @include shape(32px,32px);border:1px solid #ddd;border-radius:50%;}
      &::after{@include fontello("\e86a");margin-left:8px;}
    }
  }
  &:hover b::before{outline:4px solid rgba(60,64,67,.08);transition: outline .25s ease-in-out;}
  &.on{
    b::after{content:"\e86b"}
    .my_layer{display:block;}
  }
}
.my_layer{display:none;position:absolute;top:63px;right:0;width:100%; 
border:1px solid #ccc;border-radius:5px;background-color: #fff; z-index:100;box-shadow:0 0 7px rgba(0, 0, 0, .2);
  &::before{position:absolute;right:15px;top:0;@include shape(7px, 7px);border-color:#bec6d6;border-width:1px 0 0 1px;border-style:solid;background-color:#fff;transform:rotate(45deg);margin-top:-5px;}
  .my_svc{padding:10px 0;
    & a{display:flex;align-items:center;padding-left:26px;line-height:32px;font-size:13px;color:#a4a3a3;
      &::before{@include shape(16px,16px);background:url(../images/my_layer.png) 0 0 no-repeat;margin-right:17px;}
      &:hover{background-color:#f1f1f1;color:#000;
        &::before{background-image:url(../images/my_layer_on.png);}
      }
    }
    @for $i from 1 to 5{
      & li:nth-child(#{$i}) a::before{background-position-y:-26px * ($i - 1);}
    } 
  }
}

// snb
.snb{position: relative; flex:0 65px;background:$blue;
  .snb_lst li{position:relative;width:100%;height:80px;background-repeat:no-repeat;background-position-x:50%;
    a{position:relative;width:100%;height:100%;
      span{display:none;position:absolute;left:57px;top:50%;transform:translateY(-50%);background-color:#fff;border:1px solid #a2a2a2;color:$blue;box-shadow: 0.5px 0.9px 4px 0 rgba(0, 0, 0, 0.2);border-radius:5px;font-size:13px;letter-spacing:-.33px;font-weight:700;line-height:1.15;word-break:keep-all;white-space:nowrap;padding:7px;
        &::before{position: absolute;left:-5px;top:50%; @include shape(9px, 9px);border-color:#a2a2a2;border-width:1px 0 0 1px;border-style:solid;background-color:#fff;transform:rotate(-50deg) skew(-10deg);margin-top:-5px;}
      }
      &:hover span{display:block;}
    }
    &:hover{background-color:darken($color: $blue, $amount: 5%);}    
    &.on{background-color:$navy;}    
  }
  @for $i from 1 to 7{
    & li:nth-child(#{$i}){background-position-y:-80px * ($i - 1);}
  }
}
.sub_assessment li{background-image:url('../images/snb_assessment.png');
  &:last-child a span{min-width:122px;white-space:initial;}
}
.cont_body{flex:1;display:flex;justify-content:space-between;position:relative;min-height:366px;overflow:hidden;}
.pannel{position:relative;height:100%;max-height:calc(100vh - 105px);min-height:480px;
  .pannel_wrap{width:400px;height:100%;border-right:1px solid $border;overflow-y:auto;}
  header{border-bottom:1px solid $border;padding:$maingap;@include tit;margin-bottom:0;}
  .filter{margin-top:15px;
    .flex_wrap{gap:4px;}
    .sigungu,
    .ipt_wrap{border:2px solid $blue;border-radius:3px;height:38px;
      select,input{border:none;}
    }
    .sigungu{width:111px;}
    .ipt_wrap{flex:1;display:flex;align-items:stretch;}
    .btn_add{@include btn_square('\e92c');width:38px;height:auto;border:none;background-color:$blue;border-radius:0;
      &::before{color:#fff;font-size:16px;}
    }
    .select_lst{margin-top:10px;}
  }
  .pannel_body{display:flex;flex-direction:column;gap:20px;padding:$maingap;}
}
.tit{display:flex;align-items:center;@include tit('h1,h2');
  h1{font-size:18px;color:#0065d6;}
  h2{font-size:15px;color:#555;}
  .tool_wrap{margin-left:auto;}
  .unit{font-size:11px;color:#838383;}
}
.sidePannel_fold{position:absolute;left:-1px;top:50%;display:flex;align-items:center;justify-content:center;width:22px;height:47px;background-color:#fff;
border:1px solid $border;border-left-width:0;border-radius:0 3px 3px 0;font-size:0;z-index:10;transform:translateY(-50%);box-shadow:7px 2.6px 7px 0 rgba(0, 0, 0, 0.15);cursor:pointer;
  &::before{@include fontello('\e86d');font-size:14px;color:$blue;}
  &[data-value="off"]::before{@include fontello('\e86c')}
}
.right_pannel{left:auto;right:-1px;border-radius:3px 0 0 3px;box-shadow:-7px 2.6px 7px 0 rgba(0, 0, 0, 0.15);border-width:1px 0 1px 1px;
  &[data-value="on"]::before{@include fontello('\e86c')}
  &[data-value="off"]::before{@include fontello('\e86d')}
}
.summary{overflow:hidden;
  p{@include explanation;border:1px solid #eaeaea;border-width:1px 0;color:#555;letter-spacing:-.13px;padding-top:5px;padding-bottom:5px;}
  .date{float:right;margin-top:5px;font-size:11px;color:#8b8b8b;letter-spacing:-.5px;}
}
.contents{position:relative;flex:1;background-color:gray;}

// table
.tbl_default{width:100%;border-collapse:separate;
  th,td{border:1px solid #d6d6d6;border-width:1px 0 0 1px; padding:3px;letter-spacing:-.6px;
    word-break: keep-all;text-align:center;line-height:1.3;
    &:first-child{border-left-width:0;}
  }
  thead th{border-top:1px solid #035cd5;font-size:11px;}
  th{background-color:#4596FF;color:#fff;font-weight:700;}
  .rowgroup{
    td{background-color:#EEF5FF;border-top:1px solid #82AFEB;border-bottom:1px solid #82AFEB;font-weight: 700;color:#000;}
    &+tr td{border-top-width:0;}
    &:first-of-type td{border-top-color: #035cd5;}    
  }
  tr:last-child td{border-bottom-width:1px;}
}

// map
.map_wrap,.map_ctrl{position:relative;width:100%;height:100%;}
.symbol{--l:var(--left);--t:var(--top);
  position:absolute;left:var(--l);top:var(--t);@include f_blind;
  &::before{@include shape(16px,16px);vertical-align:middle;background:url(../images/map_symbol.png) 0 0 no-repeat;}
  @for $i from 1 to 4{
    &.ico_#{$i}::before{background-position-y:-26px * ($i - 1);}
  }
}
.map_ctrl{
  .map_tool,
  .map_type,
  .map_legend,
  .map_style{position:absolute;display:flex;align-items:center;left:15px;}
  .map_tool{top:18px;flex-direction:column;gap:14px;}
  .vertical_group{display:flex;flex-direction:column;
    .btn_zoomin_square{border-radius:2px 2px 0 0;}
    .btn_zoomout_square{margin-top:-1px;border-radius:0 0 2px 2px;}
  }
  .map_type{left:63px;top:18px;box-shadow:2px 2px 0 rgba(0, 0, 0, 0.15);
    border-radius:3px;overflow:hidden;padding-left:1px;
    label{width:110px;margin-left:-1px;}
  }
  .map_legend{width:138px;bottom:60px;background-color:#fff;border-radius:3px;border:1px solid #ccc;
    summary{display:inline-block;cursor:pointer;
      &::-webkit-details-marker,
      &::marker{display:none;content:'';}
      &::after{font-family:'fontello';content:'\e86b';font-size:14px;}
    }
    details[open]>summary::after{margin:0 2px;content:'\e86a';color:#000;}
    summary{display:flex;align-items:center;gap:12px;height:36px;padding:14px;
      h1{flex-shrink:0;font-weight:700;color:#000;}
      input[type="range"]{width: 55px;height: 2px;
        &::appearance{color:red}
      }
    }
    .legend_body{font-size:12px;color:#555;
      section{padding:10px;border-top: 1px solid #eaeaea;
        &:first-of-type{border-color:#ccc;}
      }
      ul{display:flex;flex-direction:column;gap:5px;}
      strong{margin-bottom:5px;}
      .symbols{
        li label{display:flex;align-items:center;
          input{order:-1;}
          &::before{@include shape(16px,16px);vertical-align:middle;background:url(../images/map_symbol.png) 0 0 no-repeat;margin-right:5px;}          
        }
        @for $i from 1 to 4{
          li:nth-child(#{$i}) label::before{background-position-y:-26px * ($i - 1);}
        }
      }
      .safety_grade{
        li{
          &::before{@include shape(30px,10px);vertical-align:middle;margin-right:10px;}
          @each $type, $val in $_safetyGrade{
            &.#{$type}::before{background-color:$val;}
          }          
        }
      }
    }
  }
  .map_style{bottom:10px;
    label{@include f_blind;width:55px;height:37px;background:url(../images/map_general.png) 0 0 no-repeat;border:none;}
    input:checked+label{background-image:url(../images/map_general_on.png);background-color:transparent;border-color:$blue;color:#fff;font-weight:700;}
    @for $i from 1 to 7{
      li:nth-child(#{$i}) label{background-position-x:-65px * ($i - 1);}
    }
  }
}

.heatmap_wrap{display:flex;flex-direction:column;gap:16px;}
.heatmap{display:flex;justify-content:space-between;align-items:flex-start;gap:4px;
  strong,li{display:flex;flex-direction:column;justify-content:center;align-items:center;border:2px solid #000;border-radius:5px;}
  strong{flex:0 0 78px;height:69px;font-weight:800;letter-spacing:-1px;word-break:break-word;border-width:1px;}
  ul{display:flex;flex-wrap:wrap;gap:3px;width:100%;
    li{flex:0 0 auto;width:calc(100% / 6 - 3px);font-size:11px;color:#484848;line-height:1;gap:2px;padding:3px 0;
      .score{font-size:10px;}
      }
    }
  @each $type, $col in $_safetyGrade{
    strong.#{$type}{border-color:darken($color:$col, $amount:15);background-color:$col;}
    strong.grade5{color:#fff;}
    li.#{$type}{border-color: #{$col};
      background-color:lighten($color:$col, $amount:38);
      @if(lightness($col) < 55){background-color:lighten($color:$col, $amount:49);}
    }
  }
}
.dtl_contents{
  header h1{font-size:15px;}
  .tit h2{color:$blue;}
  .divide{border-top:1px solid #eaeaea;margin-top:10px;padding-top:30px;}
  .chartwrap{margin-top:30px;padding-top:10px;}
}
.eval_result_lst{display:flex;flex-direction:column;gap:35px;
  li{display:flex;gap:12px;align-items:flex-start;
    strong{flex-shrink:0;display:flex;align-items:center;justify-content:center;width:72px;aspect-ratio:1;border-width:10px;border-style:solid;border-radius:50%;font-size:16px;white-space:nowrap
    ;}
    @each $type, $col in $_safetyGrade{    
      &.#{$type} strong{background-color:$col;border-color:lighten($color:$col, $amount:33);}
    }
    &.grade5 strong{color:#fff;}
    &.grade0 strong{border-color:#eee;}
    p{flex:1;color:#555;line-height:1.5;text-align:justify;letter-spacing:-.02em;}
  }
}
.pie_graphwrap{display: flex;flex-wrap:wrap;justify-content:space-around;margin-top:10px;}
@property --p{
  syntax: '<number>';
  inherits: true;
  initial-value: 1;
}
.pie {--p:var(--val);--b:12px;--c:#b1b1b1;--w:142px;--bg:#e9e9e9;
  @each $type, $color in $_safetyGrade{
    &.#{$type}{--c : #{$color};}
  }
  border-radius:50%;width:var(--w);aspect-ratio:1;position:relative;display:inline-grid; grid-template:1fr / 1fr;margin:5px 5px 27px;place-content:center;font-size:18px;letter-spacing:-.9px;
  animation: p 1s .5s both;
  &:before,
  &:after{ content: ""; position: absolute; border-radius: 50%; }
  &:before{inset: 0;
    background:
    radial-gradient(farthest-side,var(--c) 98%,#0000) top/var(--b) var(--b) no-repeat,
    conic-gradient(var(--c) calc(var(--p)*1%),#0000 0);
    -webkit-mask: radial-gradient(farthest-side,#0000 calc(99% - var(--b)),#000 calc(100% - var(--b)));
    mask:radial-gradient(farthest-side,#0000 calc(99% - var(--b)),#000 calc(100% - var(--b)));}
  &:after{inset:calc(50% - var(--b)/2);
    background:var(--c);transform:rotate(calc(var(--p)*3.6deg)) translateY(calc(50% - var(--w)/2));}
  .pie_txt{display:flex;flex-direction:column;align-items:center;justify-content:center; background-color:#fff;border-radius:50%;border:var(--b) solid var(--bg);
    span,em{font-weight:800;font-size:16px;line-height:1;}
    em{font-size:30px;}
  }
  strong{position:absolute;bottom:-25px;left:0;width:100%;text-align:center;font-size:13px;font-weight:normal;}
}
@keyframes p{from{--p:0}}
.meter_wrap{position:relative;margin:20px 0 44px;
  $border_color:#d6d6d6;
  .area_lst{display:flex;flex-direction:column;
    li{position:relative;display:flex;gap:11px;align-items:center;    
      label{flex:0 0 62px;font-size:12px;text-align:right;line-height:1.2;}
      meter{position:relative;flex:1;height:23px;
        &::-webkit-meter-bar{border:none;background-color:transparent;border-radius:0;}
        &::-webkit-meter-optimum-value{border-radius:0 3px 3px 0;}
        @each $type, $val in $_safetyGrade{
          &.#{$type}::-webkit-meter-optimum-value{background-color:$val;}
        }
        &::after{line-height:23px;content:attr(value);position:absolute;right:calc(100% - var(--val,0) + 3px);top:50%;transform:translateY(-51%);font-size:11px;font-weight:700;letter-spacing:-.5px;@include textStroke();}
      }
    }
    .average{label{color:#8b8b8b;}}
  }
  .meter_unit{position:absolute;right:0;top:0;width:calc(100% - 73px);height:100%;border-bottom:1px solid $border_color;color:#8b8b8b;font-size:11px;
    strong{position:absolute;bottom:-44px;left:50%;transform: translateX(-50%);}
    ul{display:flex;justify-content:space-between;align-items:stretch;height:calc(100% + 4px);}
    li{position:relative;width:1px;background-color:$border_color;
      span{position: absolute;bottom:-20px;left:50%;transform:translateX(-50%);white-space:nowrap;font-weight:700;}
    }
  }
  &.dtl{
    li:not(.sigungu) label{color:#8b8b8b;}
  }
}
.pyramidwrap{position:relative;padding:0 10px;margin-top:40px;
  .txt_lst{position:absolute;left:0;top:0;display:flex;width:50%;height:100%;flex-direction:column;
    li{position:relative;flex:1;text-align:right;font-size:12px;color:#818181;line-height:1.2;word-break:keep-all;
      &::before,
      &::after{position:absolute;right:0;top:-14px;display:block;font-weight:700;color:#000;font-size:11px;line-height:1;}
       &::before{font-size:25px;right:20px;top:-25px;}
      @for $i from 1 to 6{
        &:nth-child(#{$i}){width:calc(100% - ($i * 12%));
          &::before{content:"#{$i}";} 
          &::after{content:"등급";} 
        }
      }
      &:empty{visibility:hidden;}
    }
  }
}
.pyramid{border-right:1px solid #484848;overflow:hidden;
  $w:25px; $h:50px;
  &::before,
  &::after{@include shape(10px, 1px);background-color:#484848;position:absolute;right:7px;top:0;}
  &::after{top:auto;bottom:0;}
  &>div{position:relative;height:0;border:25px solid transparent;border-width:0 $w $h; margin:0 auto;
    &::before{position:absolute;left:0;top:0;@include shape(200px, $h);border-top:1px dotted #a5a5a5;transform:skewX(10deg);}
    &::after{position:absolute;white-space:nowrap;line-height:$h;font-size:11px;color:#818181;}
    &:last-of-type{
      &::before{border-bottom:1px dotted #a5a5a5;}
    }
  }
  @each $type, $val in $_safetyGrade{
    .#{$type}{border-bottom-color:$val;}
  }
  @for $i from 1 to 6{
    .grade#{$i}{width:50 * ($i - 1) + 50px;
      &::after{content:"#{$i}등급";left:$w * ($i - 1) + 130px;}
    }
  }
  .range{position:absolute;left:50%;top:0;line-height:$h;transform:translateX(-50%);font-weight:700;@include textStroke;}
  .area{position:absolute;}
}


.regional_idx{
  .txt_summary{color:#767676;font-size:12px;line-height:1.5;padding-top:30px;word-break: keep-all;letter-spacing:-.05em;}
}
.conclusion{
  .action_plan{display:flex;flex-direction:column;gap:20px;border-radius:5px;border:1px solid #e4e4e4;background-color:#f2f2f2;padding:20px;}
}

